# –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

## 1. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

```bash
pip install -r requirements.txt
```

## 2. –ü–æ–ª—É—á–µ–Ω–∏–µ OAuth Credentials

### –ë—ã—Å—Ç—Ä–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è:

1. **Google Cloud Console**: https://console.cloud.google.com/
2. **–°–æ–∑–¥–∞—Ç—å –ø—Ä–æ–µ–∫—Ç** (–∏–ª–∏ –≤—ã–±—Ä–∞—Ç—å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π)
3. **–í–∫–ª—é—á–∏—Ç—å API**:
   - –ú–µ–Ω—é ‚Üí "APIs & Services" ‚Üí "Library"
   - –ù–∞–π—Ç–∏ "YouTube Data API v3"
   - –ù–∞–∂–∞—Ç—å "Enable"
4. **–°–æ–∑–¥–∞—Ç—å Credentials**:
   - "APIs & Services" ‚Üí "Credentials"
   - "+ CREATE CREDENTIALS" ‚Üí "OAuth client ID"
   - –ï—Å–ª–∏ –Ω—É–∂–Ω–æ, –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å "OAuth consent screen":
     - User Type: **External**
     - App name: YouTube Dashboard
     - Email: –≤–∞—à email
     - –°–æ—Ö—Ä–∞–Ω–∏—Ç—å
   - Application type: **Desktop app**
   - –ò–º—è: YouTube Dashboard
   - –°–∫–∞—á–∞—Ç—å JSON
5. **–°–æ—Ö—Ä–∞–Ω–∏—Ç—å —Ñ–∞–π–ª** –∫–∞–∫ `config/client_secrets.json`

## 3. –ü—Ä–æ–≤–µ—Ä–∫–∞ —É—Å—Ç–∞–Ω–æ–≤–∫–∏

```bash
python test_setup.py
```

–°–∫—Ä–∏–ø—Ç –ø—Ä–æ–≤–µ—Ä–∏—Ç:
- ‚úì –£—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã –ª–∏ –≤—Å–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
- ‚úì –°–æ–∑–¥–∞–Ω–∞ –ª–∏ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø–∞–ø–æ–∫
- ‚úì –ï—Å—Ç—å –ª–∏ —Ñ–∞–π–ª credentials
- ‚úì –†–∞–±–æ—Ç–∞–µ—Ç –ª–∏ –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö

## 4. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∫–∞–Ω–∞–ª–æ–≤

```bash
python setup_channels.py
```

–î–ª—è –∫–∞–∂–¥–æ–≥–æ –∫–∞–Ω–∞–ª–∞:
1. –í–≤–µ–¥–∏—Ç–µ –Ω–∞–∑–≤–∞–Ω–∏–µ (–Ω–∞–ø—Ä–∏–º–µ—Ä, "–¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏")
2. –û—Ç–∫—Ä–æ–µ—Ç—Å—è –±—Ä–∞—É–∑–µ—Ä –¥–ª—è OAuth
3. –í—ã–±–µ—Ä–∏—Ç–µ Google –∞–∫–∫–∞—É–Ω—Ç
4. –†–∞–∑—Ä–µ—à–∏—Ç–µ –¥–æ—Å—Ç—É–ø (read-only)
5. –í–µ—Ä–Ω–∏—Ç–µ—Å—å –≤ —Ç–µ—Ä–º–∏–Ω–∞–ª

**–°–æ–≤–µ—Ç**: –ü–æ–¥–≥–æ—Ç–æ–≤—å—Ç–µ —Å–ø–∏—Å–æ–∫ –Ω–∞–∑–≤–∞–Ω–∏–π –¥–ª—è 7 –∫–∞–Ω–∞–ª–æ–≤ –∑–∞—Ä–∞–Ω–µ–µ.

## 5. –ó–∞–≥—Ä—É–∑–∫–∞ –≤–∏–¥–µ–æ

```bash
python sync_subscriptions.py
```

–í—ã–±–µ—Ä–∏—Ç–µ –æ–ø—Ü–∏—é **3** –¥–ª—è –ø–æ–ª–Ω–æ–π —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ (–ø—Ä–∏ –ø–µ—Ä–≤–æ–º –∑–∞–ø—É—Å–∫–µ).

–≠—Ç–æ –∑–∞–≥—Ä—É–∑–∏—Ç:
- –í—Å–µ –ø–æ–¥–ø–∏—Å–∫–∏ —Å –∫–∞–∂–¥–æ–≥–æ –∫–∞–Ω–∞–ª–∞
- –ü–æ—Å–ª–µ–¥–Ω–∏–µ 5 –≤–∏–¥–µ–æ —Å –∫–∞–∂–¥–æ–π –ø–æ–¥–ø–∏—Å–∫–∏

**–í—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è**: ~5-10 –º–∏–Ω—É—Ç (–∑–∞–≤–∏—Å–∏—Ç –æ—Ç –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –ø–æ–¥–ø–∏—Å–æ–∫)

## –ì–æ—Ç–æ–≤–æ! üéâ

–¢–µ–ø–µ—Ä—å —É –≤–∞—Å –µ—Å—Ç—å:
- ‚úì 7 –Ω–∞—Å—Ç—Ä–æ–µ–Ω–Ω—ã—Ö –ª–∏—á–Ω—ã—Ö –∫–∞–Ω–∞–ª–æ–≤
- ‚úì –í—Å–µ –ø–æ–¥–ø–∏—Å–∫–∏ –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö
- ‚úì –ü–æ—Å–ª–µ–¥–Ω–∏–µ –≤–∏–¥–µ–æ —Å–æ –≤—Å–µ—Ö –ø–æ–¥–ø–∏—Å–æ–∫

### –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏:

- –ó–∞–ø—É—Å—Ç–∏—Ç—å –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å (–≤ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ)
- –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫—É—é —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—é (–≤ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ)

---

## –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º

### "client_secrets.json not found"
‚Üí –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—É—Ç—å: –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å `config/client_secrets.json`

### –û—à–∏–±–∫–∞ OAuth –≤ –±—Ä–∞—É–∑–µ—Ä–µ
‚Üí –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ YouTube Data API v3 –≤–∫–ª—é—á–µ–Ω –≤ –≤–∞—à–µ–º –ø—Ä–æ–µ–∫—Ç–µ

### "Invalid grant" –ø—Ä–∏ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏
‚Üí –£–¥–∞–ª–∏—Ç–µ —Å—Ç–∞—Ä—ã–µ —Ç–æ–∫–µ–Ω—ã: `rm -rf config/youtube_credentials/*`
‚Üí –ó–∞–ø—É—Å—Ç–∏—Ç–µ setup_channels.py —Å–Ω–æ–≤–∞

### –ö–≤–æ—Ç—ã –∏—Å—á–µ—Ä–ø–∞–Ω—ã
‚Üí YouTube API: 10,000 units/–¥–µ–Ω—å (–±–µ—Å–ø–ª–∞—Ç–Ω–æ)
‚Üí –ü–æ–ª–Ω–∞—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è: ~700-800 units
‚Üí –ü–æ–¥–æ–∂–¥–∏—Ç–µ –¥–æ —Å–ª–µ–¥—É—é—â–µ–≥–æ –¥–Ω—è

---

## –ü–æ–ª–µ–∑–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã

```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞
python test_setup.py

# –î–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—ã–µ –∫–∞–Ω–∞–ª—ã
python setup_channels.py

# –û–±–Ω–æ–≤–∏—Ç—å –ø–æ–¥–ø–∏—Å–∫–∏
python sync_subscriptions.py  # –≤—ã–±—Ä–∞—Ç—å –æ–ø—Ü–∏—é 1

# –ó–∞–≥—Ä—É–∑–∏—Ç—å –Ω–æ–≤—ã–µ –≤–∏–¥–µ–æ
python sync_subscriptions.py  # –≤—ã–±—Ä–∞—Ç—å –æ–ø—Ü–∏—é 2

# –ü–æ–ª–Ω–∞—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è
python sync_subscriptions.py  # –≤—ã–±—Ä–∞—Ç—å –æ–ø—Ü–∏—é 3
```

## –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–∞–Ω–Ω—ã—Ö

```python
from database import Database

db = Database()

# –õ–∏—á–Ω—ã–µ –∫–∞–Ω–∞–ª—ã
channels = db.get_all_personal_channels()
for ch in channels:
    print(f"{ch['name']}: {ch['youtube_channel_id']}")

# –í–∏–¥–µ–æ –¥–ª—è –∫–∞–Ω–∞–ª–∞ #1
videos = db.get_videos_by_personal_channel(1)
print(f"–í—Å–µ–≥–æ –≤–∏–¥–µ–æ: {len(videos)}")
for v in videos[:5]:  # –ü–µ—Ä–≤—ã–µ 5
    print(f"  - {v['title']}")
```
